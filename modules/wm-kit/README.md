# wm-kit

## æ¦‚è¿°ï¼š

æ­¦æ±‰ç¾èŒ Javascript å·¥å…·åº“ã€‚è‡´åŠ›äºæ‰“é€ ä¸€ä¸ªæ—¥å¸¸å¼€å‘ä¸­å¸¸ç”¨å¹¶ä¸”é€šç”¨çš„å‰ç«¯å·¥å…·åº“ï¼Œæ‹’ç»é‡å¤é€ è½®å­ã€‚

> è‹¥æ‚¨ä¹Ÿæƒ³ä¸ºå…¶æ·»ç –åŠ ç“¦ï¼Œè¯·é˜…è¯»ï¼š [å¼€å‘è€…æ¨¡å¼](#å¼€å‘è€…æ¨¡å¼)

æ–‡æ¡£é€Ÿè§ˆï¼š[wm-kit](http://frontdoc.develop.meimob.com/)

## ç‰¹å¾ï¼š

- å¼€ç®±å³ç”¨ï¼Œæ”¯æŒ CDNã€ESMã€CommonJs ä¸‰ç§å¯¼å…¥æ–¹å¼ã€‚
- ä½¿ç”¨ typescript å¼€å‘ï¼Œå…·å¤‡å®Œæ•´çš„ç±»å‹æ¨å¯¼
- ä»£ç å³æ–‡æ¡£ï¼Œæ— éœ€ç¹ççš„é…ç½®ï¼Œå®Œå…¨ä¸“æ³¨äºé€»è¾‘å±‚çš„å®ç°
- æ›´åŠ ä¾¿æºçš„å•å…ƒæµ‹è¯•æµç¨‹

## å¿«é€Ÿå¼€å§‹ï¼š

### monorepo é¡¹ç›®ä¸­ä½¿ç”¨

åœ¨monorepoç»„ç»‡ç®¡ç†çš„é¡¹ç›®ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`git`å·¥å…·å°†é¡¹ç›®cloneè‡³æ‚¨çš„å·¥ä½œåŒºå†…ï¼Œä¾‹å¦‚æ‚¨çš„å·¥ä½œåŒºæ˜¯ä»¥ä¸‹ç›®å½•ï¼š

```

packages:
  - 'packages/*'
  - 'components/**'
  - 'modules/**/**'
  - '!**/test/**'
```

æ­£å¸¸æƒ…å†µä¸‹ï¼š

- packages ç›®å½•å­˜æ”¾çš„æ˜¯ä¸šåŠ¡é¡¹ç›®
- components å­˜æ”¾çš„æ˜¯ç»„ä»¶åº“
- modules å­˜æ”¾å…¬å…±çš„å·¥å…·åº“

ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ git å·¥å…·å°†é¡¹ç›® clone è‡³ modules ç›®å½•ä¸‹å³å¯ï¼Œå½“æ‚¨å…·æœ‰ä»“åº“è®¿é—®æƒé™æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼å°†ä»“åº“cloneè‡³æœ¬åœ°çš„modulesç›®å½•ä¸‹ï¼š

```sh
# ssh åœ°å€
git clone git@codeup.aliyun.com:5f855dfb1858a17210466fd0/wuhang-meimeng-development/wm-kit.git
```

```sh
# https åœ°å€
git clone https://codeup.aliyun.com/5f855dfb1858a17210466fd0/wuhang-meimeng-development/wm-kit.git

```

å…‹éš†è‡³æœ¬åœ°å®Œæˆä»¥åï¼Œæ‚¨éœ€è¦åœ¨æ‚¨çš„ä¸šåŠ¡é¡¹ç›®ä¸­æ·»åŠ å¼€å‘æ—¶ä¾èµ–ï¼Œç‰ˆæœ¬å·ä¸ºï¼š"workspace:"ï¼š

```json
// package.json

{
  "dependencies": {
    // ... more
    "wm-kit": "workspace:"
  }
}
```

ä¹‹ååœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ `pnpm install` å³å¯

### é monorepo é¡¹ç›®ä¸­ä½¿ç”¨

è‹¥æ‚¨çš„é¡¹ç›®ä¸æ˜¯monorepoæ¶æ„ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡è½¯è¿æ¥çš„æ–¹å¼æ¥å®‰è£…é¡¹ç›®ã€‚

é¦–å…ˆå°†ä»£ç å…‹éš†è‡³ä»»æ„ç›®å½•ä¸‹ã€‚

ç„¶åcdè¿›å…¥`wm-kit`æ ¹ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œè¿™ä¸€æ“ä½œæ˜¯åˆ›å»ºè½¯é“¾æ¥è‡³å…¨å±€:

```sh
pnpm link --global
```

ä¹‹ååœ¨éœ€è¦ä½¿ç”¨`wm-kit`çš„é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œè¿™ä¸€æ“ä½œè¡¨ç¤ºï¼Œä»å…¨å±€å°† wm-kit è½¯é“¾è‡³æ­¤é¡¹ç›®ï¼š

```sh
pnpm link wm-kit --global
```

éšåå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ESMæ–¹å¼å¯¼å…¥`wm-kit`ä¸‹æ‰€æœ‰æ¨¡å—äº†:

```ts
import { isNumber } from 'wmkit';
```

## å¼€å‘è€…æ¨¡å¼

### å‰è¨€ï¼š

æ„Ÿè°¢æ‚¨é€‰æ‹©ä¸ºå·¥å…·åº“æ·»ç –åŠ ç“¦ï¼Œ`wm-kit`çš„å¼€å‘æ¨¡å¼èƒ½è®©æ‚¨å°è¯•åˆ°ä»£ç å³æ–‡æ¡£çš„ä¸æ»‘å¼€å‘ä½“éªŒã€‚`wm-kit` çš„å¼€å‘æ¨¡å¼ä¸æ‚¨å¹³æ—¶å¼€å‘é¡¹ç›®æ—¶å°è£…å·¥å…·å‡½æ•°æ— å¼‚ï¼Œä¸ä¼šè®©æ‚¨æ„Ÿè§‰åˆ°ç¹çä¸”ä¸æ˜“äºæŒæ¡ï¼Œä½†éœ€è¦æ‚¨ä¸¥æ ¼éµå®ˆä»¥ä¸‹å¼€å‘è§„èŒƒï¼š

- æ‰€æœ‰æ¨¡å—éƒ½åº”åœ¨ `src/modules/` ä¸‹æ ¹æ®å‡½æ•°å¤„ç†å…¥å‚å‡ºå‚çš„æ•°æ®ç±»å‹æ¥åˆ’åˆ†ç›®å½•ç»“æ„ï¼Œä¾‹å¦‚ï¼š`src/modules/string` å¤„ç†å­—ç¬¦ä¸²ç±»å‹çš„æ–¹æ³•éƒ½åº”å­˜æ”¾è‡³æ­¤ç›®å½•ä¸‹ï¼Œå¹¶ç”± `src/modules/string/index.ts` æ–‡ä»¶ç»Ÿä¸€å¯¼å‡ºã€‚
- `wm-kit`åœ¨æ‰“åŒ…æ„å»ºæ–‡æ¡£æ—¶ï¼Œå…¥å£æ–‡ä»¶ä¸ºï¼š`src/index.ts`ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ­¤æ–‡ä»¶ä¸­å°†æ‰€æœ‰æ¨¡å—ç»Ÿä¸€æŒ‰ç…§ `re-export` æ–¹å¼å¯¼å‡ºï¼Œä¹Ÿå°±æ˜¯é‡æ–°å¯¼å‡ºä¸€ä¸ªæ¨¡å—çš„æ‰€æœ‰æˆå‘˜ã€‚å¦‚ï¼š`export * from './modules/date';`

  > **ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨æ­¤æ–¹å¼å¯¼å‡ºæ—¶ï¼Œè¯·å‹¿ä¸ºå…¶åŠ ä¸Šåˆ«åï¼Œå› ä¸º typedoc åœ¨ç”Ÿæˆ markdown æ–‡æ¡£æ—¶å¯¹æ­¤å¯¼å‡ºæ–¹å¼åšäº†ç‰¹æ®Šåˆ¤æ–­ï¼Œä½†å¹¶æœªå…¼å®¹ç±»ä¼¼ï¼š`export * as date from './modules/date` è¿™ç§ä»¥åˆ«åå¯¼å‡ºçš„æ–¹å¼ã€‚è¯·åŠ¡å¿…ä½¿ç”¨`export * from './modules/date'` è¯­æ³•å¯¼å‡ºæ¨¡å—ä¸‹æ‰€æœ‰æ–¹æ³•ã€‚**

- `wm-kit` å°†è‡ªåŠ¨çš„æŠŠæ³¨é‡Šå†…å®¹ç”Ÿæˆ`markdown`æ–‡æ¡£ï¼Œå¹¶ç”±`vitepress`é©±åŠ¨ï¼Œæ‰€ä»¥ä¸ºäº†æ–¹ä¾¿å…¶ä»–äººé˜…è¯»å’Œä½¿ç”¨ï¼Œæ‚¨éœ€è¦å°†æ‚¨ç¼–å†™çš„æ‰€æœ‰æ–¹æ³•éƒ½åŠ å…¥æ³¨é‡Šï¼Œå¹¶ä¸”ä¸¥æ ¼éµå®ˆ [tsdoc](https://tsdoc.org/) è§„èŒƒï¼Œæ­¤å¤–ï¼Œæ³¨é‡Šä¸­å¯ä»¥ä½¿ç”¨ `markdown` è¯­æ³•æ¥ä¿®é¥°ä»¥åŠä¸°å¯Œæ–‡æ¡£å†…å®¹ï¼Œç†è®ºä¸Šæ”¯æŒæ‰€æœ‰ [`vitepress`æä¾›çš„ç‰¹æ®Š`markdown`è¯­æ³•](https://vitepress.dev/guide/markdown)ã€‚

- æ‰€æœ‰æ–¹æ³•éƒ½åº”åœ¨æ³¨é‡Šä¸­åŠ å…¥ `@group` åˆ†ç»„æ ‡ç­¾å¹¶åœ¨å…¶æ ‡ç­¾åæ ‡æ³¨**ç»„å**ï¼Œä»¥åŠä½¿ç”¨ `@author` æ ‡æ³¨ä½œè€…ï¼Œé¡¹ç›®åœ¨ CI/CD æ­¥éª¤æ—¶ï¼Œ`typedoc`å°†ä¼šæ ¹æ®@group æ ‡æ³¨çš„åç§°ï¼Œåœ¨`vitepress`ç”Ÿæˆå¯¹åº”ä¾§è¾¹æ èœå•ï¼Œç»„åå¯ä»¥å­˜åœ¨å¤šä¸ªï¼Œè¿™å°†ä¼šç”Ÿæˆå¤šä¸ªä¾§è¾¹èœå•å¹¶åŒæ—¶åŒ…å«æ­¤æ–¹æ³•ã€‚ä½¿ç”¨@authoræ ‡æ³¨ä½œè€…å°†ä¼šæœ‰æ•ˆä¿è¯åæœŸç»´æŠ¤å’Œè¿­ä»£ä¼˜åŒ–å·¥ä½œï¼š

  ````ts
  /**
   * ### å°†å­—ç¬¦ä¸²æ ¼å¼åŒ–ä¸ºé¦–å­—æ¯å¤§å†™
   * @group æ ¼å¼åŒ–
   * @author é«˜å¼º
   * @param str éœ€è¦æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²
   * @returns
   *
   * ### ç¤ºä¾‹
   * ``` ts
   * import { formatInitialCapital } from 'wm-kit'
   * formatInitialCapital('javascript') // => Javascript
   * ```
   */
  export const formatInitialCapital = (str: string) => {
    let firstLetter = str.charAt(0).toUpperCase();
    let restOfStr = str.slice(1).toLowerCase();
    return firstLetter + restOfStr;
  };
  ````

  åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ`@group æ ¼å¼åŒ–`ä¼šå°†â€œæ ¼å¼åŒ–â€ä½œä¸ºä¸€çº§ä¾§è¾¹èœå•åç§°å¹¶å°†è¯¥æ–¹æ³•ä½œä¸ºå®ƒçš„å­èœå•ã€‚

- æ‰€æœ‰æ–¹æ³•éƒ½åº”è¯¥æ˜¯**çº¯å‡½æ•°**ï¼Œä¿è¯å‡½æ•°ä½“å†…æ‰€æœ‰é€»è¾‘ä¸ä¼šå¯¹å…¥å‚äº§ç”Ÿå‰¯ä½œç”¨

- æ‰€æœ‰å‡½æ•°ä¸­æ‰€ä¾èµ–çš„å˜é‡éƒ½åº”è¯¥æœ‰æ˜ç¡®çš„ç±»å‹ï¼Œè€Œä¸æ˜¯ `any`ï¼Œå¹¶ä¸”æ‰€æœ‰è¢«ä½¿ç”¨è¿‡çš„ç±»å‹ã€æšä¸¾ä»¥åŠæ¥å£éƒ½åº”åœ¨ `src/index.ts`æ–‡ä»¶ä¸­ç»Ÿä¸€è¢«å¯¼å‡ºã€‚

- ä»£ç æäº¤è¯·æŒ‰ç…§ [Angular ä¿¡æ¯æäº¤è§„èŒƒ](https://zj-git-guide.readthedocs.io/zh_CN/latest/message/Angular%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF%E8%A7%84%E8%8C%83/) æ¥æäº¤ä¿¡æ¯ï¼š

  ```json
  {
    "types": [
      { "type": "feat", "section": "âœ¨ Features | æ–°åŠŸèƒ½" },
      { "type": "fix", "section": "ğŸ› Bug Fixes | Bug ä¿®å¤" },
      { "type": "perf", "section": "âš¡ Improvements | ä¼˜åŒ–" },
      { "type": "revert", "section": "âª Reverts | å›é€€" },
      { "type": "chore", "section": "ğŸ“¦ Chores | å…¶ä»–æ›´æ–°" },
      { "type": "docs", "section": "ğŸ“ Documentation | æ–‡æ¡£" },
      { "type": "style", "section": "ğŸ’„ Styles | é£æ ¼" },
      { "type": "refactor", "section": "â™» Code Refactoring | ä»£ç é‡æ„" },
      { "type": "test", "section": "âœ… Tests | æµ‹è¯•" },
      { "type": "build", "section": "ğŸ‘·â€ Build System | æ„å»º" },
      { "type": "ci", "section": "ğŸ”§ Continuous Integration | CI é…ç½®" }
    ]
  }
  ```

  ä¾‹å¦‚ï¼Œæ–°å¢æ–¹æ³•ï¼š`formatInitialCapital`ï¼Œ åˆ™æäº¤ä¿¡æ¯å¦‚ä¸‹ï¼š

  ```sh
    git commit -m 'feat: æ–°å¢é¦–å­—æ¯è½¬å¤§å†™æ–¹æ³•:formatInitialCapital'
  ```

  å°† `feat: `ä½œä¸ºå‰ç¼€ã€‚

- å¼€å‘å®Œæˆåï¼Œæ–°å¢æ–¹æ³•éƒ½åº”åœ¨ `test/modules/` ç›®å½•ä¸‹ç¼–å†™å•å…ƒæµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶ä½¿ç”¨ `npm run test` å¯¹å…¶æµ‹è¯•ï¼Œå•å…ƒæµ‹è¯•çš„æ–‡ä»¶åç»Ÿä¸€ä»¥`spec.ts`ä½œä¸ºåç¼€ã€‚

### å‘å¸ƒ

å¼€å‘å®Œæˆåï¼Œæ‚¨åªéœ€è¦å°†æ‚¨æ–°å¢çš„éƒ¨åˆ†æäº¤å¹¶æ¨é€è‡³mainä¸»åˆ†æ”¯å³å¯ï¼Œæ¨é€æˆåŠŸåï¼ŒJenkinsä¼šè‡ªåŠ¨å°†æ–‡æ¡£è¿›è¡Œéƒ¨ç½²ï¼Œè¿™ä¸ªéƒ¨ç½²çš„è¿‡ç¨‹å¤§æ¦‚ä¼šæŒç»­2-3åˆ†é’Ÿã€‚

## LICENSE:

[MIT](https://github.com/loclink/wm-kit/blob/master/LICENSE)
